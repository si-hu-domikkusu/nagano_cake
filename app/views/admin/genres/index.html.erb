<div class = "error-box">
<% if @genre.errors.any? %>
  <h3 class = "error-message"><%= @genre.errors.count %> errors prohibited this obj from being saved:</h3>
  <ul class = "error-message">
    <% @genre.errors.full_messages.each do |message| %>
    <li><%= message %></li>
    <% end %>
  </ul>
<% end %>
</div>

<div class = "container px-5 px-sm-0">
  <div class = "row">
    <div class = "col-md-3">
      <h2 class="mt-3">ジャンル一覧・追加</h2>
      <%= form_with model: @genre, url:'/admin/genres', local:true do |f| %>
        <div class = "form-group">
          <label for = "genre_name">ジャンル名</label>
          <div><%= f.text_field :name, class: 'form-control' %></div>
        </div>
        <div class = "form-group">
          <div><%= f.submit ' 新規登録  ', class: 'btn btn-success' %></div>
        </div>
      <% end %>
    </div>

    <div class = "col-md-8 offset-md-1">
      <h2>ジャンル</h2>
      <table class = "table table-hover table-inverse">
        <tbody>
          <% @genres.each do |genre| %>
             <tr>
              <th>
                <p><%= genre.name %></p>
              </th>
              <th>
                <div class="row">
                  <%= link_to "編集する", edit_admin_genre_path(genre), class: 'btn btn-success' %>
                <div>
              </th>
              </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>